@model JvHomes.Models.EmployeeRegistrations

@{
                /**/

                ViewBag.Title = "EmployeeRegistration";
                Layout = "~/Views/Shared/AdminLayout.cshtml";
}


@using (Html.BeginForm("EmployeeRegistration", "Permission", FormMethod.Post, new { @id = "form1", enctype = "multipart/form-data" }))
{
<div class="wrapper">
    <div class="container-fluid">
        <!-- Page-Title -->
        <div class="page-title-box">
            <div class="row align-items-center">
                <div class="col-sm-6">
                    <h4 class="page-title">Permission</h4>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-right">

                        <li class="breadcrumb-item active">Add Users</li>
                    </ol>
                </div>
            </div>
            <!-- end row -->
        </div>
        <div class="row">
            <div class="col-lg-6 col-md-6">
                <div class="panel panel-primary" style="border-color: #337ab7;margin-bottom: 20px;background-color: #fff;border: 2px solid #337ab7;border-radius: 4px;-webkit-box-shadow: 0 1px 1px rgba(0,0,0,.05); box-shadow: 0 1px 1px rgba(0,0,0,.05);">
                    <div class="panel-heading" style="color: #fff;background-color: #337ab7; border-color: #337ab7;padding: 10px 15px;border-bottom: 1px solid transparent;border-top-left-radius: 3px;border-top-right-radius: 3px;">
                        <div class="row">
                            <div class="col-xs-12" style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;">
                                Personal Info
                            </div>

                        </div>
                    </div>
                    <br />
                    <div class="row" style="padding-left: 17px;padding-right: 17px;">

                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Employee Code <span style="color: red">*</span></label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.LoginId, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Joining Date <span style="color: red">*</span></label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.DOJ, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">User Type <span style="color: red">*</span></label>
                                <div class="col-sm-9">
                                    @Html.DropDownListFor(m => m.Fk_UserTypeId, new SelectList(ViewBag.ddlUserType, "Value", "Text"), new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Name <span style="color: red">*</span></label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Mobile No <span style="color: red">*</span></label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.Mobile, new { @class = "form-control", @MaxLength = "10", @onkeypress = "return isNumberKey(evenet);" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Email Id <span style="color: red">*</span></label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @Onchange = "checkEmail();" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Qualification </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.EducationQualififcation, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">DOB </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.DOB, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <br />
                <div class="panel panel-primary" style="border-color: #337ab7;margin-bottom: 20px;background-color: #fff;border: 2px solid #337ab7;border-radius: 4px;-webkit-box-shadow: 0 1px 1px rgba(0,0,0,.05); box-shadow: 0 1px 1px rgba(0,0,0,.05);">
                    <div class="panel-heading" style="color: #fff;background-color: #337ab7; border-color: #337ab7;padding: 10px 15px;border-bottom: 1px solid transparent;border-top-left-radius: 3px;border-top-right-radius: 3px;">
                        <div class="row">
                            <div class="col-xs-12" style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;">
                                Bank Details
                            </div>

                        </div>
                    </div>
                    <br />
                    <div class="row" style="padding-left: 17px;padding-right: 17px;">
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Bank Name </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.BankName, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">A/C No </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.AccNo, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">IFSC Code</label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.IFSCCOde, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>



                    </div>
                </div>
                <br />
                <div class="col-md-12">
                    <br />
                    @Html.HiddenFor(m => m.PK_UserID)
                    @if (Model.PK_UserID == null)
                    {
                        <input class="btn btn-success pull-left" type="submit" onclick="return filldata();" value="Save" id="Save" name="Save" />
                    }
                    else
                    {
                        <input class="btn btn-success pull-left" type="submit" onclick="return filldata();" value="Update" id="btnSave" name="Update" />
                    }
                </div>

            </div>

            <div class="col-lg-6 col-md-6">
                <div class="panel panel-primary" style="border-color: #337ab7;margin-bottom: 20px;background-color: #fff;border: 2px solid #337ab7;border-radius: 4px;-webkit-box-shadow: 0 1px 1px rgba(0,0,0,.05); box-shadow: 0 1px 1px rgba(0,0,0,.05);">
                    <div class="panel-heading" style="color: #fff;background-color: #337ab7; border-color: #337ab7;padding: 10px 15px;border-bottom: 1px solid transparent;border-top-left-radius: 3px;border-top-right-radius: 3px;">
                        <div class="row">
                            <div class="col-xs-12" style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;">
                                Emergency Contact
                            </div>

                        </div>
                    </div>
                    <br />
                    <div class="row" style="padding-left: 17px;padding-right: 17px;">
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Contact Person </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.ContactPerson, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Contact No </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.ContactNo, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Blood Group</label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.BloodGroup, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>



                    </div>
                </div>
                <br />
                <div class="panel panel-primary" style="border-color: #337ab7;margin-bottom: 20px;background-color: #fff;border: 2px solid #337ab7;border-radius: 4px;-webkit-box-shadow: 0 1px 1px rgba(0,0,0,.05); box-shadow: 0 1px 1px rgba(0,0,0,.05);">
                    <div class="panel-heading" style="color: #fff;background-color: #337ab7; border-color: #337ab7;padding: 10px 15px;border-bottom: 1px solid transparent;border-top-left-radius: 3px;border-top-right-radius: 3px;">
                        <div class="row">
                            <div class="col-xs-12" style="position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;">
                                Identity Document
                            </div>

                        </div>
                    </div>
                    <br />
                    <div class="row" style="padding-left: 17px;padding-right: 17px;">
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Document Type </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.DocumentType, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Document No </label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.DocumentNo, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Expiry Date</label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.ExpiryDate, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label class="col-sm-3 col-form-label">Pan No</label>
                                <div class="col-sm-9">
                                    @Html.TextBoxFor(m => m.PanNo, new { @class = "form-control" })
                                </div>
                            </div>
                        </div>
                        <img src="@Model.ProfilePic" height="190" width="250" />
                        <input type="file" name="fileProfilePicture" id="Image" />

                        <input type="file" name="flpdocument" id="flpdocument" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
       
   

}
<script src="../../Scripts/jquery-1.10.2.min.js"></script>

<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.0/themes/smoothness/jquery-ui.css">

<script type="text/javascript">

    $(document).ready(function () {
        $("#divload").css({ 'display': 'none' });

    });
    $('#DOJ').datepicker({
        dateFormat: 'dd/mm/yy',
        changeYear: true,
        changeMonth: true,

    });
    $('#DOB').datepicker({
        dateFormat: 'dd/mm/yy',
        changeYear: true,
        changeMonth: true,
        yearRange: "1942:2030",
        currentyear: false,

    });
    $('#ExpiryDate').datepicker({
        dateFormat: 'dd/mm/yy',
        changeYear: true,
        changeMonth: true,

    });
    function isNumberKey(evt) {
        debugger;
        var charCode = (evt.which) ? evt.which : event.keyCode;
        if (charCode != 46 && charCode > 31
            && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }
    function checkEmail() {
        debugger;

        if (($("#Email").val() != "")) {
            if ($("#Email").val()) {

                var email = document.getElementById('Email');
                var filter = new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);

                if (!filter.test($("#Email").val())) {
                    alert('Please provide a valid email address');
                    $("#Email").val('');
                    $("#Email").focus();
                    return false;
                }



            }

        }

    }
    function filldata() {
        debugger;


        $(".errortext").removeClass("errortext");
        if ($("#LoginId").val() == "") {
            $("#LoginId").addClass('errortext');
            $("#LoginId").focus();
            return false;
        }
        if ($("#DOJ").val() == "") {
            $("#DOJ").addClass('errortext');
            $("#DOJ").focus();
            return false;
        }
        if ($("#Fk_UserTypeId").val() == "0") {
            $("#Fk_UserTypeId").addClass('errortext');
            $("#Fk_UserTypeId").focus();
            return false;
        }
        if ($("#Name").val() == "") {
            $("#Name").addClass('errortext');
            $("#Name").focus();
            return false;
        }

        if ($("#Mobile").val() == "") {
            $("#Mobile").addClass('errortext');
            $("#Mobile").focus();
            return false;
        }


        if ($("#Email").val() == "") {
            $("#Email").addClass('errortext');
            $("#Email").focus();
            return false;
        }


    }
</script>




